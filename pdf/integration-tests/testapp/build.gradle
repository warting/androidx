plugins {
    id("AndroidXPlugin")
    id("AndroidXComposePlugin")
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
}

android {
    namespace = "androidx.pdf.testapp"

    defaultConfig {
        applicationId = "androidx.pdf.testapp"
        minSdk = 31
        compileSdk = 36
        compileSdkExtension = 18
    }

    sourceSets {
        androidTest.assets.srcDirs += files("src/androidTest/assets/".toString())
    }

    viewBinding {
        enabled = true
    }

    testOptions {
        // speed up execution and improve flakiness of instrumented tests.
        animationsDisabled = true
    }
}

dependencies {
    api("com.google.android.material:material:1.11.0")
    implementation(project(":pdf:pdf-viewer-fragment"))
    implementation(project(":pdf:pdf-compose"))
    implementation(project(":pdf:pdf-ink"))
    implementation("androidx.compose.ui:ui:1.7.8")
    implementation("androidx.fragment:fragment-ktx:1.8.1")
    implementation(libs.constraintLayout)
    implementation(libs.testCore)

    androidTestImplementation(libs.testExtJunit)
    androidTestImplementation(libs.testCore)
    androidTestImplementation(libs.testRules)
    androidTestImplementation(libs.testRunner)
    androidTestImplementation(libs.junit)
    androidTestImplementation(libs.mockitoCore)
    androidTestImplementation(libs.dexmakerMockito)
    androidTestImplementation(libs.truth)
    androidTestImplementation(libs.espressoCore)
    androidTestImplementation(libs.testUiautomator)
    androidTestImplementation(libs.kotlinCoroutinesTest)
    androidTestImplementation(project(":pdf:pdf-viewer-fragment"))
    androidTestImplementation("androidx.test.espresso:espresso-idling-resource:3.5.0")
    androidTestImplementation('androidx.test.espresso:espresso-intents:3.6.1')

    debugImplementation("androidx.fragment:fragment-testing-manifest:1.8.1")
    debugImplementation("androidx.fragment:fragment-testing:1.7.1")
}