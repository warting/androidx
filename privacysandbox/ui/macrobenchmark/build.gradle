plugins {
    id("AndroidXPlugin")
    id("com.android.test")
    id("org.jetbrains.kotlin.android")
}

android {
    namespace = "androidx.privacysandbox.ui.macrobenchmark"
    compileSdk = 35
    compileSdkExtension = 14
    defaultConfig {
        minSdk = 23
    }

    privacySandbox {
        enable = true
    }

    targetProjectPath = ":privacysandbox:ui:macrobenchmark:testapp:macrobenchmark-target"
    experimentalProperties["android.experimental.self-instrumenting"] = true

}

android.buildTypes { release {} }
androidComponents { beforeVariants(selector().all()) { enabled = buildType == "release" } }

dependencies {
    implementation(project(":benchmark:benchmark-macro"))
    implementation(project(":benchmark:benchmark-macro-junit4"))
    implementation(project(":internal-testutils-benchmark-macro"))
    implementation(project(":privacysandbox:ui:macrobenchmark:testapp:sdkproviderutils"))
    implementation(libs.testRules)
    implementation(libs.testExtJunit)
    implementation(libs.testCore)
    implementation(libs.testRunner)
    implementation(libs.testUiautomator)
}
